{"version":3,"sources":["raw-mjs/kendo.draggable.cmn.chunk.js"],"names":["__meta__","id","name","category","description","depends","hidden","chunk","proxy","a","b","e","bind","el","event","callback","addEventListener","unbind","removeEventListener","noop","preventDefault","touchRegExp","IGNORE_MOUSE_TIMEOUT","normalizeEvent","type","match","pageX","changedTouches","pageY","clientX","clientY","originalEvent","isTouch","offsetX","offsetY","ctrlKey","shiftKey","altKey","Draggable","ref","this$1$1","this","press","drag","release","mouseOnly","_pressHandler","_dragHandler","_releaseHandler","_ignoreMouse","_mouseOnly","_touchstart","touches","length","_touchmove","_touchend","setTimeout","_restoreMouse","_mousedown","which","document","_mousemove","_mouseup","_pointerdown","isPrimary","button","_pointermove","_pointerup","prototypeAccessors","configurable","supportPointerEvent","window","PointerEvent","get","_element","ownerDocument","prototype","cancelDrag","bindTo","element","_unbindFromCurrent","_bindToCurrent","_usePointers","update","destroy","Object","defineProperties","default"],"mappings":"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","file":"kendo.draggable.cmn.chunk.js","sourcesContent":["\n\nconst __meta__ = {\n    id: \"draggable.cmn.chunk\",\n    name: \"DraggableCmnChunk\",\n    category: \"web\",\n    description: \"A reusable outputed chunk of code\",\n    depends: [],\n    hidden: true,\n    chunk: true\n};\n\nvar proxy = function (a, b) { return function (e) { return b(a(e)); }; };\n\nvar bind = function (el, event, callback) { return el.addEventListener && el.addEventListener(event, callback); };\n\nvar unbind = function (el, event, callback) { return el && el.removeEventListener && el.removeEventListener(event, callback); };\n\nvar noop = function () { /* empty */ };\n\nvar preventDefault = function (e) { return e.preventDefault(); };\n\nvar touchRegExp = /touch/;\n\n// 300ms is the usual mouse interval;\n// // However, an underpowered mobile device under a heavy load may queue mouse events for a longer period.\nvar IGNORE_MOUSE_TIMEOUT = 2000;\n\nfunction normalizeEvent(e) {\n    if (e.type.match(touchRegExp)) {\n        return {\n            pageX: e.changedTouches[0].pageX,\n            pageY: e.changedTouches[0].pageY,\n            clientX: e.changedTouches[0].clientX,\n            clientY: e.changedTouches[0].clientY,\n            type: e.type,\n            originalEvent: e,\n            isTouch: true\n        };\n    }\n\n    return {\n        pageX: e.pageX,\n        pageY: e.pageY,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        offsetX: e.offsetX,\n        offsetY: e.offsetY,\n        type: e.type,\n        ctrlKey: e.ctrlKey,\n        shiftKey: e.shiftKey,\n        altKey: e.altKey,\n        originalEvent: e\n    };\n}\n\nvar Draggable = function Draggable(ref) {\n    var this$1$1 = this;\n    var press = ref.press; if ( press === void 0 ) press = noop;\n    var drag = ref.drag; if ( drag === void 0 ) drag = noop;\n    var release = ref.release; if ( release === void 0 ) release = noop;\n    var mouseOnly = ref.mouseOnly; if ( mouseOnly === void 0 ) mouseOnly = false;\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._ignoreMouse = false;\n    this._mouseOnly = mouseOnly;\n\n    this._touchstart = function (e) {\n        if (e.touches.length === 1) {\n            this$1$1._pressHandler(e);\n        }\n    };\n\n    this._touchmove = function (e) {\n        if (e.touches.length === 1) {\n            this$1$1._dragHandler(e);\n        }\n    };\n\n    this._touchend = function (e) {\n        // the last finger has been lifted, and the user is not doing gesture.\n        // there might be a better way to handle this.\n        if (e.touches.length === 0 && e.changedTouches.length === 1) {\n            this$1$1._releaseHandler(e);\n            this$1$1._ignoreMouse = true;\n            setTimeout(this$1$1._restoreMouse, IGNORE_MOUSE_TIMEOUT);\n        }\n    };\n\n    this._restoreMouse = function () {\n        this$1$1._ignoreMouse = false;\n    };\n\n    this._mousedown = function (e) {\n        var which = e.which;\n\n        if ((which && which > 1) || this$1$1._ignoreMouse) {\n            return;\n        }\n\n        bind(this$1$1.document, \"mousemove\", this$1$1._mousemove);\n        bind(this$1$1.document, \"mouseup\", this$1$1._mouseup);\n        this$1$1._pressHandler(e);\n    };\n\n    this._mousemove = function (e) {\n        this$1$1._dragHandler(e);\n    };\n\n    this._mouseup = function (e) {\n        unbind(this$1$1.document, \"mousemove\", this$1$1._mousemove);\n        unbind(this$1$1.document, \"mouseup\", this$1$1._mouseup);\n        this$1$1._releaseHandler(e);\n    };\n\n    this._pointerdown = function (e) {\n        if (e.isPrimary && e.button === 0) {\n            bind(this$1$1.document, \"pointermove\", this$1$1._pointermove);\n            bind(this$1$1.document, \"pointerup\", this$1$1._pointerup);\n            bind(this$1$1.document, \"pointercancel\", this$1$1._pointerup);\n            bind(this$1$1.document, \"contextmenu\", preventDefault);\n\n            this$1$1._pressHandler(e);\n        }\n    };\n\n    this._pointermove = function (e) {\n        if (e.isPrimary) {\n            this$1$1._dragHandler(e);\n        }\n    };\n\n    this._pointerup = function (e) {\n        if (e.isPrimary) {\n            unbind(this$1$1.document, \"pointermove\", this$1$1._pointermove);\n            unbind(this$1$1.document, \"pointerup\", this$1$1._pointerup);\n            unbind(this$1$1.document, \"pointercancel\", this$1$1._pointerup);\n            unbind(this$1$1.document, \"contextmenu\", preventDefault);\n\n            this$1$1._releaseHandler(e);\n        }\n    };\n};\n\nvar prototypeAccessors = { document: { configurable: true } };\n\nDraggable.supportPointerEvent = function supportPointerEvent () {\n    return (typeof window !== 'undefined') && window.PointerEvent;\n};\n\nprototypeAccessors.document.get = function () {\n    return this._element\n    ? this._element.ownerDocument\n    : document;\n};\n\nDraggable.prototype.cancelDrag = function cancelDrag () {\n    unbind(this.document, \"pointermove\", this._pointermove);\n    unbind(this.document, \"pointerup\", this._pointerup);\n    unbind(this.document, \"pointercancel\", this._pointerup);\n};\n\nDraggable.prototype.bindTo = function bindTo (element) {\n    if (element === this._element) {\n        return;\n    }\n\n    if (this._element) {\n        this._unbindFromCurrent();\n    }\n\n    this._element = element;\n    this._bindToCurrent();\n};\n\nDraggable.prototype._bindToCurrent = function _bindToCurrent () {\n    var element = this._element;\n\n    if (this._usePointers()) {\n        bind(element, \"pointerdown\", this._pointerdown);\n        return;\n    }\n\n    bind(element, \"mousedown\", this._mousedown);\n\n    if (!this._mouseOnly) {\n        bind(element, \"touchstart\", this._touchstart);\n        bind(element, \"touchmove\", this._touchmove);\n        bind(element, \"touchend\", this._touchend);\n    }\n};\n\nDraggable.prototype._unbindFromCurrent = function _unbindFromCurrent () {\n    var element = this._element;\n\n    if (this._usePointers()) {\n        unbind(element, \"pointerdown\", this._pointerdown);\n        unbind(this.document, \"pointermove\", this._pointermove);\n        unbind(this.document, \"pointerup\", this._pointerup);\n        unbind(this.document, \"contextmenu\", preventDefault);\n        unbind(this.document, \"pointercancel\", this._pointerup);\n        return;\n    }\n\n    unbind(element, \"mousedown\", this._mousedown);\n\n    if (!this._mouseOnly) {\n        unbind(element, \"touchstart\", this._touchstart);\n        unbind(element, \"touchmove\", this._touchmove);\n        unbind(element, \"touchend\", this._touchend);\n    }\n};\n\nDraggable.prototype._usePointers = function _usePointers () {\n    return !this._mouseOnly && Draggable.supportPointerEvent();\n};\n\nDraggable.prototype.update = function update (ref) {\n        var press = ref.press; if ( press === void 0 ) press = noop;\n        var drag = ref.drag; if ( drag === void 0 ) drag = noop;\n        var release = ref.release; if ( release === void 0 ) release = noop;\n        var mouseOnly = ref.mouseOnly; if ( mouseOnly === void 0 ) mouseOnly = false;\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._mouseOnly = mouseOnly;\n};\n\nDraggable.prototype.destroy = function destroy () {\n    this._unbindFromCurrent();\n    this._element = null;\n};\n\nObject.defineProperties( Draggable.prototype, prototypeAccessors );\n\n// Re-export as \"default\" field to address a bug\n// where the ES Module is imported by CommonJS code.\n//\n// See https://github.com/telerik/kendo-angular/issues/1314\nDraggable.default = Draggable;\n\nexport { Draggable as D };\nexport { __meta__ };"]}