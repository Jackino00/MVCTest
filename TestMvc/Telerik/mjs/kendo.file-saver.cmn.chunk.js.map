{"version":3,"sources":["raw-mjs/kendo.file-saver.cmn.chunk.js"],"names":["__meta__","id","name","category","description","depends","hidden","chunk","saveAs","data","fileName","options","save","postToProxy","forceProxy","proxyURL","Error","canDownload","saveAsDataURI","navigator","msSaveBlob","saveAsBlob","anchor","document","createElement","blob","parts","split","contentType","base64","atob","array","Uint8Array","length","idx","charCodeAt","Blob","buffer","type","dataURI","window","URL","createObjectURL","fileSaver","download","href","e","createEvent","initMouseEvent","dispatchEvent","setTimeout","revokeObjectURL","form","setAttribute","proxyTarget","formData","proxyData","replace","hasOwnProperty","input","appendChild","body","submit","removeChild","KEY_STR","fromCharCode","String","encodeBase64","plainText","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","output","i","isNaN","charAt","c"],"mappings":"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","file":"kendo.file-saver.cmn.chunk.js","sourcesContent":["\n\nconst __meta__ = {\n    id: \"file-saver.cmn.chunk\",\n    name: \"FileSaverCmnChunk\",\n    category: \"web\",\n    description: \"A reusable outputed chunk of code\",\n    depends: [],\n    hidden: true,\n    chunk: true\n};\n\nfunction saveAs(data, fileName, options) {\n  if ( options === void 0 ) options = {};\n\n  var save = postToProxy;\n\n  if (options.forceProxy && !options.proxyURL) {\n    throw new Error('No proxyURL is set, but forceProxy is true');\n  }\n\n  if (!options.forceProxy) {\n    if (canDownload()) {\n      save = saveAsDataURI;\n    }\n\n    if (navigator.msSaveBlob) {\n      save = saveAsBlob;\n    }\n  }\n\n  save(data, fileName, options);\n}\n\nvar anchor = function () { return document.createElement('a'); };\nvar canDownload = function () { return 'download' in anchor(); };\n\nfunction saveAsBlob(data, fileName) {\n  var blob = data; // could be a Blob object\n\n  if (typeof data === 'string') {\n    var parts = data.split(';base64,');\n    var contentType = parts[0];\n    var base64 = atob(parts[1]);\n    var array = new Uint8Array(base64.length);\n\n    for (var idx = 0; idx < base64.length; idx++) {\n      array[idx] = base64.charCodeAt(idx);\n    }\n\n    blob = new Blob([ array.buffer ], { type: contentType });\n  }\n\n  navigator.msSaveBlob(blob, fileName);\n}\n\nfunction saveAsDataURI(data, fileName) {\n  var dataURI = data;\n  if (window.Blob && data instanceof Blob) {\n    dataURI = URL.createObjectURL(data);\n  }\n\n  var fileSaver = anchor();\n  fileSaver.download = fileName;\n  fileSaver.href = dataURI;\n\n  var e = document.createEvent('MouseEvents');\n  e.initMouseEvent('click', true, false, window,\n    0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n  fileSaver.dispatchEvent(e);\n  setTimeout(function () { return URL.revokeObjectURL(dataURI); });\n}\n\nfunction postToProxy(dataURI, fileName, options) {\n  if (!options.proxyURL) {\n    return;\n  }\n\n  var form = document.createElement('form');\n  form.setAttribute('action', options.proxyURL);\n  form.setAttribute('method', 'POST');\n  form.setAttribute('target', options.proxyTarget || '_self');\n\n  var formData = options.proxyData || {};\n  formData.fileName = fileName;\n\n  var parts = dataURI.split(\";base64,\");\n  formData.contentType = parts[0].replace(\"data:\", \"\");\n  formData.base64 = parts[1];\n\n  for (var name in formData) {\n    if (formData.hasOwnProperty(name)) {\n      var input = document.createElement('input');\n      input.setAttribute('type', 'hidden');\n      input.setAttribute('name', name);\n      input.setAttribute('value', formData[name]);\n\n      form.appendChild(input);\n    }\n  }\n\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n}\n\nvar KEY_STR = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar fromCharCode = String.fromCharCode;\n\nfunction encodeBase64(plainText) {\n  var input = encodeUTF8(plainText);\n  var output = \"\";\n  var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n  var i = 0;\n\n  while (i < input.length) {\n    chr1 = input.charCodeAt(i++);\n    chr2 = input.charCodeAt(i++);\n    chr3 = input.charCodeAt(i++);\n\n    enc1 = chr1 >> 2;\n    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n    enc4 = chr3 & 63;\n\n    if (isNaN(chr2)) {\n      enc3 = enc4 = 64;\n    } else if (isNaN(chr3)) {\n      enc4 = 64;\n    }\n\n    output = output +\n      KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) +\n      KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n  }\n\n  return output;\n}\n\nfunction encodeUTF8(input) {\n  var output = \"\";\n\n  for (var i = 0; i < input.length; i++) {\n    var c = input.charCodeAt(i);\n\n    if (c < 0x80) {\n      // One byte\n      output += fromCharCode(c);\n    } else if (c < 0x800) {\n      // Two bytes\n      output += fromCharCode(0xC0 | (c >>> 6));\n      output += fromCharCode(0x80 | (c & 0x3f));\n    } else if (c < 0x10000) {\n      // Three bytes\n      output += fromCharCode(0xE0 | (c >>> 12));\n      output += fromCharCode(0x80 | (c >>> 6 & 0x3f));\n      output += fromCharCode(0x80 | (c & 0x3f));\n    }\n  }\n\n  return output;\n}\n\nexport { saveAs as s };\nexport { __meta__ };"]}