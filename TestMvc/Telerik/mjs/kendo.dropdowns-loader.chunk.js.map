{"version":3,"sources":["raw-mjs/kendo.dropdowns-loader.chunk.js"],"names":["__meta__","id","name","category","description","depends","hidden","chunk","$","kendo","jQuery","LOADING","LOADER","SELECTOR","INPUT_VALUES","ARIA_BUSY","initLoader","that","this","loader","addClass","attr","_loading","_showBusy","showBusy","bind","_hideBusy","hideBusy","_toggleLoader","toggleLoader","_showBusyHandler","showBusyHandler","toggle","loaderIsShown","wrapper","hasClass","inputValuesWrapper","find","isMultiSelect","options","toLowerCase","_suffixContainer","separators","length","before","_arrow","insertAfter","element","removeClass","remove","_focused","_hideClear","e","isDefaultPrevented","_request","_busy","setTimeout","clearTimeout","_toggleCloseVisibility","_showClear"],"mappings":";;;;;;;;AAEA,MAAAA,SAAA,CACAC,GAAA,yBACAC,KAAA,uBACAC,SAAA,MACAC,YAAA,oCACAC,QAAA,GACAC,QAAA,EACAC,OAAA,GAGA,IAAAC,EAAAC,MAAAC,OAEA,MAAAC,QAAA,YACAC,OAAA,0CACAC,SAAA,gBACAC,aAAA,iBACAC,UAAA,YAEA,SAAAC,aACA,MAAAC,EAAAC,KACAC,EAAAX,EAAA,iBAAAY,SAAAR,QAAAS,KAAA,OAAA,gBACAJ,EAAAK,SAAAH,EAEAF,EAAAM,UAAAC,SAAAC,KAAAR,GACAA,EAAAS,UAAAC,SAAAF,KAAAR,GACAA,EAAAW,cAAAC,aAAAJ,KAAAR,GACAA,EAAAa,iBAAAC,gBAAAN,KAAAR,EACA,CAEA,SAAAY,aAAAG,GACA,MAAAf,EAAAC,KACAe,EAAAhB,EAAAiB,QAAAC,SAAAxB,SACAyB,EAAAnB,EAAAiB,QAAAG,KAAA,IAAAvB,gBACAwB,EAAA,gBAAArB,EAAAsB,QAAArC,KAAAsC,cACA,GAAAvB,EAAAK,SACA,GAAAU,IAAAC,EAEA,GADAhB,EAAAiB,QAAAd,SAAAT,SACAM,EAAAwB,iBAAA,CACA,MAAAC,EAAAzB,EAAAiB,QAAAG,KAAA,sBACA7B,EAAAkC,EAAAA,EAAAC,OAAA,IAAAC,OAAA3B,EAAAK,SACA,MAAA,GAAAL,EAAA4B,OACA5B,EAAA4B,OAAAD,OAAA3B,EAAAK,eACA,GAAAc,EAAAO,OAAA,GAAAL,EACArB,EAAAK,SAAAwB,YAAAV,OACA,CACA,MAAAW,EAAA9B,EAAA8B,QAAAZ,SAAAtB,UAAAI,EAAA8B,QAAA9B,EAAAiB,QAAAG,KAAA,IAAAxB,YACAI,EAAAK,SAAAwB,YAAAC,EACA,MACAd,IACAhB,EAAAiB,QAAAc,YAAArC,SACAM,EAAAK,SAAA2B,SAGA,CAEA,SAAAlB,kBACA,MAAAd,EAAAC,KACA,GAAAD,EAAAiC,SACAjC,EAAAiC,SAAA7B,KAAAN,WAAA,OACA,EACAE,EAAA8B,QAAAZ,SAAAtB,UAAAI,EAAA8B,QAAA9B,EAAAiB,QAAAG,KAAA,IAAAxB,aACAQ,KAAAN,WAAA,EACA,CAEAE,EAAAW,eAAA,GACAX,EAAAkC,YACA,CAEA,SAAA3B,SAAA4B,GACA,MAAAnC,EAAAC,KAEAkC,GAAAA,EAAAC,uBAIApC,EAAAqC,UAAA,EAEArC,EAAAsC,QAIAtC,EAAAsC,MAAAC,WAAAvC,EAAAa,iBAAA,MACA,CAGA,SAAAH,WACA,MAAAV,EAAAC,KASA,GARAuC,aAAAxC,EAAAsC,OACAtC,EAAAW,eAAA,GACAX,EAAAsC,MAAA,KAEAtC,EAAAqC,WACArC,EAAAqC,UAAA,GAGArC,EAAAiC,SACAjC,EAAAiC,SAAA7B,KAAAN,WAAA,OACA,EACAE,EAAA8B,QAAAZ,SAAAtB,UAAAI,EAAA8B,QAAA9B,EAAAiB,QAAAG,KAAA,IAAAxB,aACAQ,KAAAN,WAAA,EACA,CAEAE,EAAAyC,uBACAzC,EAAAyC,yBAEAzC,EAAA0C,YAEA,QAEA3C,wBACAhB","file":"kendo.dropdowns-loader.chunk.js","sourcesContent":["\n\nconst __meta__ = {\n    id: \"dropdowns-loader.chunk\",\n    name: \"DropdownsLoaderChunk\",\n    category: \"web\",\n    description: \"A reusable outputed chunk of code\",\n    depends: [],\n    hidden: true,\n    chunk: true\n};\n\nlet $ = kendo.jQuery;\n\nconst LOADING = \"k-loading\",\n      LOADER = \"k-icon k-i-loading k-input-loading-icon\",\n      SELECTOR = \"k-input-inner\",\n      INPUT_VALUES = \"k-input-values\",\n      ARIA_BUSY = \"aria-busy\";\n\nfunction initLoader() {\n    const that = this;\n    const loader = $(\"<span></span>\").addClass(LOADER).attr(\"role\", \"presentation\");\n    that._loading = loader;\n\n    that._showBusy = showBusy.bind(that);\n    that._hideBusy = hideBusy.bind(that);\n    that._toggleLoader = toggleLoader.bind(that);\n    that._showBusyHandler = showBusyHandler.bind(that);\n}\n\nfunction toggleLoader(toggle) {\n    const that = this;\n    const loaderIsShown = that.wrapper.hasClass(LOADING);\n    const inputValuesWrapper = that.wrapper.find(`.${INPUT_VALUES}`);\n    const isMultiSelect = that.options.name.toLowerCase() === \"multiselect\";\n    if (that._loading) {\n        if (toggle && !loaderIsShown) {\n            that.wrapper.addClass(LOADING);\n            if (that._suffixContainer) {\n                const separators = that.wrapper.find('.k-input-separator');\n                $(separators[separators.length - 1]).before(that._loading);\n            } else if (that._arrow) {\n                that._arrow.before(that._loading);\n            } else if (inputValuesWrapper.length > 0 && isMultiSelect) {\n                that._loading.insertAfter(inputValuesWrapper);\n            } else {\n                const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n                that._loading.insertAfter(element);\n            }\n        } else if (loaderIsShown) {\n            that.wrapper.removeClass(LOADING);\n            that._loading.remove();\n        }\n    }\n}\n\nfunction showBusyHandler() {\n        const that = this;\n        if (that._focused) {\n            that._focused.attr(ARIA_BUSY, true);\n        } else {\n            const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n            element.attr(ARIA_BUSY, true);\n        }\n\n        that._toggleLoader(true);\n        that._hideClear();\n}\n\nfunction showBusy(e) {\n    const that = this;\n\n    if (e && e.isDefaultPrevented()) {\n        return;\n    }\n\n    that._request = true;\n\n    if (that._busy) {\n        return;\n    }\n\n    that._busy = setTimeout(that._showBusyHandler, 100);\n}\n\n\nfunction hideBusy() {\n    const that = this;\n    clearTimeout(that._busy);\n    that._toggleLoader(false);\n    that._busy = null;\n\n    if (that._request) {\n        that._request = false;\n    }\n\n    if (that._focused) {\n        that._focused.attr(ARIA_BUSY, false);\n    } else {\n        const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n        element.attr(ARIA_BUSY, true);\n    }\n\n    if (that._toggleCloseVisibility) {\n        that._toggleCloseVisibility();\n    } else {\n        that._showClear();\n    }\n}\n\nexport { initLoader as i };\nexport { __meta__ };"]}